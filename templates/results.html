<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voting Results</title>
    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="stylesheet" href="/static/css/animation.css">
</head>
<body>
    <div class="container">
        <h1>Voting Results</h1>
        <!-- Loading spinner and message -->
        <div class="spinner" id="loading-spinner"></div>
        <p class="loading-message" id="loading-message">Loading results, please wait...</p>

        <div class="results" id="results-container" style="display:none;">
            <div class="result-item">
                <img src="/static/images/cat.jpeg" alt="Cat">
                <p>Cat: <span class="vote-count">{{.CatVotes}}</span> votes</p>
            </div>
            <div class="result-item">
                <img src="/static/images/dog.jpeg" alt="Dog">
                <p>Dog: <span class="vote-count">{{.DogVotes}}</span> votes</p>
            </div>
        </div>
        <form action="{{.VotingServiceURL}}" method="GET">
            <button type="submit" class="results-button">Back to Voting Page</button>
        </form>
    </div>

    <script>
        // Show loading spinner and message when the page loads
        document.getElementById('loading-spinner').style.display = 'block';
        document.getElementById('loading-message').style.display = 'block';

        // Simulate loading delay
        window.onload = function () {
            setTimeout(function () {
                // Hide spinner and message after loading is done
                document.getElementById('loading-spinner').style.display = 'none';
                document.getElementById('loading-message').style.display = 'none';
                
                // Show results after loading
                document.getElementById('results-container').style.display = 'block';
            }, 1500);  // Simulate a 1.5 second delay
        };
    </script>
</body>
</html>